"use strict";var t=Object.defineProperty,e=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,n=(e,s,i)=>s in e?t(e,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[s]=i;class r{constructor(){this.lines=[],this.currentPoint={},this.lastPoint={},this.offsetLeft=0,this.offsetTop=0}get getLatestLine(){return this.lines[this.lines.length-1]}get getLatestPoints(){return this.getLatestLine?this.getLatestLine.points:[]}pushLine(t){this.lines.push(t),this.currentPoint=t.points[0]}pushLatestPoint(t){this.getLatestLine.points.push(t);const o=r.distance(t,this.lastPoint);this.currentPoint=((t,r)=>{for(var o in r||(r={}))s.call(r,o)&&n(t,o,r[o]);if(e)for(var o of e(r))i.call(r,o)&&n(t,o,r[o]);return t})({dis:o},t)}getControlPoints(){const t=this.getLatestPoints,e=.5,s=t[t.length-3],i=t[t.length-2],n=t[t.length-1],r=i.x,o=i.y,a=s.x,h=s.y,l=n.x,p=n.y;return[{x1:a,y1:h},{x2:l,y2:p},{cx:(r-Math.pow(.5,2)*a-Math.pow(e,2)*l)/.5,cy:(o-Math.pow(.5,2)*h-Math.pow(e,2)*p)/.5}]}static distance(t,e){var s=e.x-t.x,i=e.y-t.y;return Math.sqrt(s*s+i*i)}}module.exports=r;
